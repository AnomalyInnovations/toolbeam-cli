{"version":3,"sources":["../../src/options/signup.js"],"names":["userActions","prompts","name","description","message","required","hidden","store","start","delimiter","email","password","passwordConfirm","console","log","red","spinner","dispatch","signup","stop","green"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;;;AACA;;AACA;;AACA;;IAAYA,W;;;;;;AAEZ,IAAMC,UAAU,CACf;AACCC,OAAM,OADP;AAECC,cAAa,mBAFd;AAGCC,UAAS,yBAHV;AAICC,WAAU;AAJX,CADe,EAOf;AACCH,OAAM,UADP;AAECC,cAAa,sBAFd;AAGCC,UAAS,4BAHV;AAICE,SAAQ,IAJT;AAKCD,WAAU;AALX,CAPe,EAcf;AACCH,OAAM,iBADP;AAECC,cAAa,wBAFd;AAGCC,UAAS,kCAHV;AAICE,SAAQ,IAJT;AAKCD,WAAU;AALX,CAde,CAAhB;;;uEAuBe,iBAAeE,KAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;;AAEd,uBAAOC,KAAP;;AAEA,uBAAOJ,OAAP,GAAiB,EAAjB;AACA,uBAAOK,SAAP,GAAmB,EAAnB;;AALc;AAAA,aAOmC,wBAAUR,OAAV,CAPnC;;AAAA;AAAA;AAOPS,WAPO,SAOPA,KAPO;AAOAC,cAPA,SAOAA,QAPA;AAOUC,qBAPV,SAOUA,eAPV;;AAAA,YASVD,YAAYC,eATF;AAAA;AAAA;AAAA;;AAUbC,cAAQC,GAAR,CAAY,gBAAMC,GAAN,CAAU,+CAAV,CAAZ;AAVa;;AAAA;AAcRC,aAdQ,GAcE,kBAAY,0BAAZ,CAdF;;AAedA,cAAQR,KAAR;;AAfc;AAAA;AAAA,aAkBPD,MAAMU,QAAN,CAAejB,YAAYkB,MAAZ,CAAmBR,KAAnB,EAA0BC,QAA1B,CAAf,CAlBO;;AAAA;AAmBbK,cAAQG,IAAR;AAnBa;AAAA;;AAAA;AAAA;AAAA;;AAsBbH,cAAQG,IAAR;AACAN,cAAQC,GAAR,CAAY,gBAAMC,GAAN,qBAA4B,YAAEX,OAA9B,CAAZ;AAvBa;;AAAA;;AA2BdS,cAAQC,GAAR,CAAY,gBAAMM,KAAN,CAAY,iCAAZ,CAAZ;;AA3Bc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,E","file":"signup.js","sourcesContent":["import prompt from 'prompt';\nimport chalk from 'chalk';\nimport { Spinner } from 'clui';\nimport { getPrompt } from '../libs/prompt';\nimport * as userActions from '../actions/user-actions';\n\nconst prompts = [\n\t{\n\t\tname: 'email',\n\t\tdescription: 'Enter your email:',\n\t\tmessage: 'Please enter your email',\n\t\trequired: true\n\t},\n\t{\n\t\tname: 'password',\n\t\tdescription: 'Enter your password:',\n\t\tmessage: 'Please enter your password',\n\t\thidden: true,\n\t\trequired: true\n\t},\n\t{\n\t\tname: 'passwordConfirm',\n\t\tdescription: 'Confirm your password:',\n\t\tmessage: 'Please enter your password again',\n\t\thidden: true,\n\t\trequired: true\n\t},\n];\n\nexport default async function(store) {\n\n\tprompt.start();\n\n\tprompt.message = '';\n\tprompt.delimiter = '';\n\n\tconst {email, password, passwordConfirm} = await getPrompt(prompts);\n\n\tif (password != passwordConfirm) {\n\t\tconsole.log(chalk.red('Password does not match the confirm password.'));\n\t\treturn;\n\t}\n\n\tconst spinner = new Spinner('Signing up for Toolbeamâ€¦');\n\tspinner.start();\n\n\ttry {\n\t\tawait store.dispatch(userActions.signup(email, password));\n\t\tspinner.stop();\n\t}\n\tcatch(e) {\n\t\tspinner.stop();\n\t\tconsole.log(chalk.red(`Signup failed: ${e.message}`));\n\t\treturn;\n\t}\n\n\tconsole.log(chalk.green('You are signed up for Toolbeam.'));\n\n}\n"]}