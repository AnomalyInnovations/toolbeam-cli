{"version":3,"sources":["../../src/options/logout.js"],"names":["userActions","logoutMessage","store","dispatch","load","isLoggedIn","getState","console","log","cyan","spinner","start","logout","stop","red","message"],"mappings":";;;;;;;;;;;;;;AAAA;;;;AACA;;AAEA;;IAAYA,W;;;;;;AAEZ,IAAMC,gBAAgB,iCAAtB;;;uEAEe,iBAAeC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEdA,YAAMC,QAAN,CAAeH,YAAYI,IAAZ,EAAf;;AAFc,UAIPJ,YAAYK,UAAZ,CAAuBH,MAAMI,QAAN,EAAvB,CAJO;AAAA;AAAA;AAAA;;AAKbC,cAAQC,GAAR,CAAY,gBAAMC,IAAN,CAAWR,aAAX,CAAZ;AALa;;AAAA;AASRS,aATQ,GASE,kBAAY,0BAAZ,CATF;;AAUdA,cAAQC,KAAR;;AAVc;AAAA;AAAA,aAaPT,MAAMC,QAAN,CAAeH,YAAYY,MAAZ,EAAf,CAbO;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAgBbF,cAAQG,IAAR;AACAN,cAAQC,GAAR,CAAY,gBAAMM,GAAN,qBAA4B,YAAEC,OAA9B,CAAZ;AAjBa;;AAAA;;AAqBdL,cAAQG,IAAR;AACAN,cAAQC,GAAR,CAAY,gBAAMC,IAAN,CAAWR,aAAX,CAAZ;;AAtBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,E","file":"logout.js","sourcesContent":["import chalk from 'chalk';\nimport { Spinner } from 'clui';\n\nimport * as userActions from '../actions/user-actions';\n\nconst logoutMessage = 'You are logged out of Toolbeam.';\n\nexport default async function(store) {\n\n\tstore.dispatch(userActions.load());\n\n\tif ( ! userActions.isLoggedIn(store.getState())) {\n\t\tconsole.log(chalk.cyan(logoutMessage));\n\t\treturn;\n\t}\n\n\tconst spinner = new Spinner('Logging out of Toolbeamâ€¦');\n\tspinner.start();\n\n\ttry {\n\t\tawait store.dispatch(userActions.logout());\n\t}\n\tcatch(e) {\n\t\tspinner.stop();\n\t\tconsole.log(chalk.red(`Logout failed: ${e.message}`));\n\t\treturn;\n\t}\n\n\tspinner.stop();\n\tconsole.log(chalk.cyan(logoutMessage));\n\n}\n"]}