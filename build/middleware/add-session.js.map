{"version":3,"sources":["../../src/middleware/add-session.js"],"names":["getState","dispatch","action","promise","sessionId","client","next"],"mappings":";;;;;;AAGA;;kBAEe;AAAA,KAAEA,QAAF,QAAEA,QAAF;AAAA,KAAYC,QAAZ,QAAYA,QAAZ;AAAA,QAA0B;AAAA,SAAQ,kBAAU;;AAE1D,OAAIC,OAAOC,OAAX,EAAoB;AAAA;AACnB,SAAMC,YAAY,+BAAaJ,UAAb,CAAlB;AACA,SAAMG,UAAUD,OAAOC,OAAvB;;AAEAD,YAAOC,OAAP,GAAiB;AAAA,aAAUA,QAAQE,MAAR,EAAgBD,SAAhB,CAAV;AAAA,MAAjB;AAJmB;AAKnB;;AAED,UAAOE,KAAKJ,MAAL,CAAP;AACA,GAVwC;AAAA,EAA1B;AAAA,C,EALf","file":"add-session.js","sourcesContent":["/**\n * Middleware to add the session id to any api client calls \n */\nimport { getSessionId } from '../actions/user-actions';\n\nexport default ({getState, dispatch}) => next => action => {\n\n\tif (action.promise) {\n\t\tconst sessionId = getSessionId(getState());\n\t\tconst promise = action.promise;\n\n\t\taction.promise = client => promise(client, sessionId);\n\t}\n\n\treturn next(action);\n}\n"]}