{"version":3,"sources":["../../src/actions/spec-actions.js"],"names":["loadInfo","load","update","getSpecFileLink","getData","types","SPEC_LOAD_INFO","SPEC_LOAD_INFO_SUCCESS","SPEC_LOAD_INFO_FAIL","promise","client","sessionId","get","params","session_id","url","SPEC_LOAD","SPEC_LOAD_SUCCESS","SPEC_LOAD_FAIL","specData","SPEC_UPDATE","SPEC_UPDATE_SUCCESS","SPEC_UPDATE_FAIL","post","data","spec_name","spec_data","tools","state","spec","info","file_link"],"mappings":";;;;;;;;;;QAOgBA,Q,GAAAA,Q;QAYAC,I,GAAAA,I;QAWAC,M,GAAAA,M;QAmBAC,e,GAAAA,e;QAIAC,O,GAAAA,O;;AArDhB;;IAAYC,K;;AACZ;;;;;;AAEA;AACA;AACA;;AAEO,SAASL,QAAT,GAAoB;AAC1B,QAAO;AACNK,SAAO,CAACA,MAAMC,cAAP,EAAuBD,MAAME,sBAA7B,EAAqDF,MAAMG,mBAA3D,CADD;AAENC,WAAS,iBAACC,MAAD,EAASC,SAAT,EAAuB;AAC/B,UAAOD,OAAOE,GAAP,CAAW,gBAAX,EAA6B;AACnCC,YAAQ;AACPC,iBAAcH;AADP,KAD2B,EAA7B,CAAP;AAIA;AAPK,EAAP;AASA;;AAEM,SAASV,IAAT,CAAcc,GAAd,EAAmB;AACzB,QAAO;AACNV,SAAO,CAACA,MAAMW,SAAP,EAAkBX,MAAMY,iBAAxB,EAA2CZ,MAAMa,cAAjD,CADD;AAENT,WAAS,iBAACC,MAAD;AAAA,UAAYA,OAAOE,GAAP,CAAW,YAAX,EAAyB;AAC7CC,YAAQ;AACPE,UAAKA;AADE;AADqC,IAAzB,CAAZ;AAAA;AAFH,EAAP;AAQA;;AAEM,SAASb,MAAT,CAAgBiB,QAAhB,EAA0B;AAChC,QAAO;AACNd,SAAO,CAACA,MAAMe,WAAP,EAAoBf,MAAMgB,mBAA1B,EAA+ChB,MAAMiB,gBAArD,CADD;AAENb,WAAS,iBAACC,MAAD,EAASC,SAAT,EAAuB;AAC/B,UAAOD,OAAOa,IAAP,CAAY,mBAAZ,EAAiC;AACvCC,UAAM;AACLC,gBAAa,yCAAoBN,QAApB,CADR;AAELO,gBAAa,yBAAeP,QAAf,CAFR;AAGLQ,YAAW,yBAAe,sCAAiBR,QAAjB,CAAf,CAHN;AAILL,iBAAcH;AAJT,KADiC,EAAjC,CAAP;AAOA;AAVK,EAAP;AAYA;;AAED;AACA;AACA;;AAEO,SAASR,eAAT,CAAyByB,KAAzB,EAAgC;AACtC,QAAOA,MAAMC,IAAN,CAAWC,IAAX,CAAgBC,SAAvB;AACA;;AAEM,SAAS3B,OAAT,CAAiBwB,KAAjB,EAAwB;AAC9B,QAAOA,MAAMC,IAAN,CAAWL,IAAlB;AACA","file":"spec-actions.js","sourcesContent":["import * as types from './action-types';\nimport { toolsFromOpenapi, specNameFromOpenapi } from '../libs/consume-openapi';\n\n/////////////\n// Actions //\n/////////////\n\nexport function loadInfo() {\n\treturn {\n\t\ttypes: [types.SPEC_LOAD_INFO, types.SPEC_LOAD_INFO_SUCCESS, types.SPEC_LOAD_INFO_FAIL],\n\t\tpromise: (client, sessionId) => {\n\t\t\treturn client.get('/user/get_spec', {\n\t\t\t\tparams: {\n\t\t\t\t\tsession_id \t: sessionId,\n\t\t\t\t}});\n\t\t}\n\t};\n}\n\nexport function load(url) {\n\treturn {\n\t\ttypes: [types.SPEC_LOAD, types.SPEC_LOAD_SUCCESS, types.SPEC_LOAD_FAIL],\n\t\tpromise: (client) => client.get('/test/curl', {\n\t\t\tparams: {\n\t\t\t\turl: url\n\t\t\t}\n\t\t})\n\t};\n}\n\nexport function update(specData) {\n\treturn {\n\t\ttypes: [types.SPEC_UPDATE, types.SPEC_UPDATE_SUCCESS, types.SPEC_UPDATE_FAIL],\n\t\tpromise: (client, sessionId) => {\n\t\t\treturn client.post('/user/update_spec', {\n\t\t\t\tdata: {\n\t\t\t\t\tspec_name\t\t: specNameFromOpenapi(specData),\n\t\t\t\t\tspec_data \t: JSON.stringify(specData),\n\t\t\t\t\ttools \t\t\t: JSON.stringify(toolsFromOpenapi(specData)),\n\t\t\t\t\tsession_id \t: sessionId,\n\t\t\t\t}});\n\t\t}\n\t};\n}\n\n//////////////////////\n// Public Functions //\n//////////////////////\n\nexport function getSpecFileLink(state) {\n\treturn state.spec.info.file_link;\n}\n\nexport function getData(state) {\n\treturn state.spec.data;\n}\n"]}